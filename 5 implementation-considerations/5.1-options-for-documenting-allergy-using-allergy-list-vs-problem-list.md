# Options for Documenting Allergy using Allergy List vs Problem List

There are two main ways to document adverse sensitivity in the EHR, which are supported by SNOMED CT. One option is to use a substance-focused model implementing an allergy list, and the other option is to use a findings-focused model implementing a problems list. The documentation of allergy desensitization requires a different model. The implementation approach would be determined by factors such as EHR architecture, user preference and data exchange requirements.

Although the term “allergy” is generally defined as occurring via an immunologic process caused by a misdirected humoral immune response especially involving IgE antibodies or a cell-mediated process, proving this through testing is often not possible, especially for drugs. Most physicians and patients tend to conflate true drug allergy with pseudoallergy (non-allergic hypersensitivity) or interpret allergy more broadly as any adverse drug effect and documentation in EHRs often reflects this uncertainty. For this reason, standards such as HL7® FHIR® and ICD-11 combine the word allergy with allergy-like/clinically resembling allergy and do not distinguish allergy from non-allergic hypersensitivity, which would most closely align with the SNOMED concept, 473010000 <mark style="color:blue;">|</mark>Hypersensitivity condition (finding)<mark style="color:blue;">|</mark> and its disposition and reaction subconcepts.

## Allergy list

Allergy or intolerance can be recorded in a specific section (e.g., “Drug Allergy and Intolerance”) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model.

In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 <mark style="color:blue;">|</mark>Hypersensitivity disposition<mark style="color:blue;">|</mark> which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 <mark style="color:blue;">|</mark>Allergic disposition (finding)<mark style="color:blue;">|</mark> which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource.

If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange.

Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future.

There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances.

Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix).

## Problem list

Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies – Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource.

For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 <mark style="color:blue;">|</mark>Allergic condition (finding)<mark style="color:blue;">|</mark> hierarchies. This is due to the lack of sufficient content under 609433001 <mark style="color:blue;">|</mark>Hypersensitivity disposition (finding)<mark style="color:blue;">|</mark> and 421961002 <mark style="color:blue;">|</mark>Hypersensitivity reaction (disorder)<mark style="color:blue;">|</mark> and that many of the concepts under 609328004 <mark style="color:blue;">|</mark>Allergic disposition (finding)<mark style="color:blue;">|</mark> and 419076005 <mark style="color:blue;">|</mark>Allergic reaction (disorder)<mark style="color:blue;">|</mark> have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED International does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case.

Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix).

Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, ‘Allergy to component of vaccine product (finding)’ with a synonym ‘vaccine allergy’ has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product.

To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for ‘situation with explicit context’ to express certainty, this is not recommended due to potential ambiguity. For example, “suspected penicillin allergy” can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion.

## Documentation of Allergy Desensitization

Desensitization (aka hyposensitization) therapy involves the administration of increasing doses of an allergen in order to induce a state of tolerance. Desensitization to inhalant and food allergens (allergen immunotherapy) results in long-term control of symptoms, which may persist after the treatment is discontinued, while drug desensitization induces temporary tolerance only during the course of therapy. In either case, an active status of allergy should not be removed from the medical record in those patients that are undergoing or have completed a course of desensitization therapy. Documentation of patients undergoing specific desensitization protocols using SNOMED CT can be accomplished using the descendants of 367428009 <mark style="color:blue;">|</mark>Desensitization therapy (regime/therapy)<mark style="color:blue;">|</mark>.






<a href="https://docs.google.com/forms/d/e/1FAIpQLScTmbZIf0UEQwYDkY27EEWBkaiYkHSbR0_9DmFrMLXoQLyL7Q/viewform?usp=pp_url&entry.1767247133=Allergy+IG&entry.670899847=Options%20for%20Documenting%20Allergy%20using%20Allergy%20List%20vs%20Problem%20List" class="button primary">Provide Feedback</a>
