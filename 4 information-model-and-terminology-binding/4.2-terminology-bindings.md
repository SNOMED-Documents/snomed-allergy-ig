# Terminology Bindings

SNOMED CT value sets for use in adverse sensitivity documentation generally belong to two types 1) concepts related to the adverse sensitivity per se, i.e. the adverse sensitivity condition/propensity, adverse sensitivity reactions, and products/substances which are claimed to cause adverse sensitivity reactions; and 2) qualifiers or modifiers e.g. clinical status, verification status, criticality, or severity of adverse reaction. Value sets of the first type usually encompass a large number of concepts and are defined intentionally. Value sets of the second type are usually small and enumerated as a list. Different information models have their own definitions and requirements for value sets. In the following discussion, we will focus on the FHIR® AllergyIntolerence base resource

The FHIR AllergyIntolerence base resource is open to various choices of representation for the adverse sensitivity content per se, but often has restricted ways of providing qualifiers and modifiers.

## Adverse sensitivity content value sets

The FHIR AllergyIntolerance base resource has example bindings to SNOMED CT for the element AllergyIntolerance.code as well as elements reaction.substance, reaction.manifestation, and reaction.exposureRoute. All example value sets are though very broad and likely not very precise in determining the set of relevant concepts, see table below. For each data element, the number of concepts that are in the Global Patient Set (GPS) is shown here. The GPS is a special SNOMED CT subset that can be used globally with minimal restriction and at no cost.

&#x20;

<table data-header-hidden><thead><tr><th width="216.99609375"></th><th width="215.859375"></th><th width="331.2890625"></th><th width="125.2421875"></th></tr></thead><tbody><tr><td><strong>FHIR element</strong></td><td><strong>SNOMED CT value set</strong></td><td><strong>Corresponding ECL</strong></td><td><strong>#concepts (in GPS version 2020-7-31)</strong></td></tr><tr><td>AllergyIntolerance.code</td><td><a href="https://www.hl7.org/fhir/valueset-allergyintolerance-code.html">https://www.hl7.org/fhir/valueset-allergyintolerance-code.html</a></td><td><p>If recording is based on substances and products and specifies the type of reaction in "type":</p><p>&#x3C;&#x3C;105590001 | Substance (substance) | OR &#x3C;&#x3C;373873005 | Pharmaceutical / biologic product (product) |</p><p>OR</p><p>If recording is based on finding concepts precoordinating the type of reaction :</p><p>&#x3C;&#x3C;418038007 |Propensity to adverse reactions to substance|</p><p>OR</p><p>When using precoordianted Situation concepts to represent the absence of an allergic propensity</p><p>&#x3C;&#x3C;716186003 |No known allergy|<a href="4.2-terminology-bindings.md#notes"><sup>1</sup></a></p></td><td>51133 (1157)</td></tr><tr><td>AllergyIntolerance. reaction.substance</td><td><a href="https://www.hl7.org/fhir/valueset-substance-code.html">https://www.hl7.org/fhir/valueset-substance-code.html</a></td><td>&#x3C;&#x3C;105590001 | Substance (substance) | OR &#x3C;&#x3C;373873005 | Pharmaceutical / biologic product (product) |</td><td>49763  (1132)</td></tr><tr><td>AllergyIntolerance. reaction.manifestation</td><td><a href="https://www.hl7.org/fhir/valueset-clinical-findings.html">https://www.hl7.org/fhir/valueset-clinical-findings.html</a></td><td>&#x3C;&#x3C;404684003 |Clinical finding|</td><td>114493  (12135)</td></tr><tr><td>AllergyIntolerance. reaction.exposureRoute</td><td><a href="https://www.hl7.org/fhir/valueset-route-codes.html">https://www.hl7.org/fhir/valueset-route-codes.html</a></td><td>&#x3C;&#x3C;284009009 |Route of administration value|</td><td>163 (20)</td></tr></tbody></table>

Since the SNOMED CT value sets in this category usually include a large number of concepts, implementers often ask for lists of most frequently used concepts to facilitate implementation (e.g., building picklists to assist data entry). These frequently-used subsets are sometimes called “starter sets”. Examples of starter sets are:

| **Source**                                                                              | **Name of value set**                                                                                | **Steward**                | **Number of concepts**              |
| --------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- | -------------------------- | ----------------------------------- |
| Value Set Authority Center (VSAC), NLM[<sup>2</sup>](4.2-terminology-bindings.md#notes) | Common dietary substances for allergy and intolerance documentation                                  | HL7 Patient Care Workgroup | 127                                 |
| Value Set Authority Center (VSAC), NLM                                                  | Common drug classes for allergy and intolerance documentation                                        | HL7 Patient Care Workgroup | 42                                  |
| Value Set Authority Center (VSAC), NLM                                                  | Common environmental substances for allergy and intolerance documentation                            | HL7 Patient Care Workgroup | 15                                  |
| Value Set Authority Center (VSAC), NLM                                                  | Common substances for allergy and intolerance documentation including refutations                    | HL7 Patient Care Workgroup | 747 (also includes RxNorm entities) |
| Value Set Authority Center (VSAC), NLM                                                  | Food Allergen                                                                                        | Partners Healthcare        | 518                                 |
| HL7                                                                                     | Allergy intolerance substance condition (GPS) – IPS[<sup>3</sup>](4.2-terminology-bindings.md#notes) | FHIR GPS IG                | 784                                 |
| HL7                                                                                     | Allergy Reaction (GPS) - IPS[<sup>4</sup>](4.2-terminology-bindings.md#notes)                        | FHIR GPS IG                | 31                                  |
| eHealth Digital Service Infrastructure (eHDSI)                                          | IPS Allergy or Intolerance Conditions[<sup>5</sup>](4.2-terminology-bindings.md#notes)               | epSOS                      | 15                                  |
| eHealth Digital Service Infrastructure (eHDSI)                                          | eHDSIAllergenNoDrug[<sup>6</sup>](4.2-terminology-bindings.md#notes)                                 | epSOS                      | 158                                 |
| eHealth Digital Service Infrastructure (eHDSI)                                          | eHDSIAdverseEventType[<sup>7</sup>](4.2-terminology-bindings.md#notes)                               | epSOS                      | 10                                  |

### Qualifier and/or modifier value sets

As a result of a request from HL7 to SNOMED International about the possibility of mapping some of the required HL7® FHIR® Value Sets to SNOMED CT, an analysis of the ability of SNOMED CT to accommodate those needs was performed by the SNOMED CT on FHIR Workgroup. The required value sets of the FHIR AllergyIntolerance resource was included in this analysis.

A particular issue with qualifiers/modifiers is they have a strong dependence on what they qualify or modify, and that linkage is provided specifically by the information model at hand. Taking those concepts out of their information model context, which, debatably, mapping those concepts to SNOMED CT entail, could be a challenge.

In the analysis of the FHIR AllergyIntolerance required value sets, all but two were problematic in at least some way. The two straightforward mappable value sets were for elements AllergyIntolerance.reaction.severity and AllergyIntolerance.type

### AllergyIntolerance.Reaction.Severity

It was assessed that there was a good match between the HL7 required value set and the SNOMED CT << 272141005 |Severities (qualifier value)| subhierarchy.

| **HL7 Code** | **HL7 Display** | **Suggested SNOMED CT concept** |
| ------------ | --------------- | ------------------------------- |
| severe       | Severe          | 24484000                        |
| moderate     | Moderate        | 6736007                         |
| mild         | Mild            | 255604002                       |

### AllergyIntolerance.Type

The group's suggested approach here is to use concepts taken from <<609433001 |Hypersensitivity disposition (finding)|unless an actual immune mediated hypersensitivity has been proven e.g., by testing. See section 6.1.1 Allergy list for a further discussion of the rationale behind this approach.

| **HL7 Code** | **HL7 Display** | **Suggested SNOMED CT concept** |
| ------------ | --------------- | ------------------------------- |
| allergy      | Allergy         | 609433001                       |
| intolerance  | Intolerance     | 782197009                       |

For other required value sets in the FHIR AllergyIntolerance resource there were issues ranging from some concepts in the FHIR value set lacked a corresponding SNOMED CT concept to differences in the underlying ontology making mapping complicated and likely less useful. For more details about mapping FHIR value sets to SNOMED CT, refer to the discussion of the SNOMED on FHIR Workgroup.[<sup>8</sup>](4.2-terminology-bindings.md#notes)

***

#### Notes 

1. The modeling of propensities to adverse reactions has changed since the FHIR resource was published and a single concept now subsumes both allergies and intolerances
2. &#x20;[https://vsac.nlm.nih.gov/](https://vsac.nlm.nih.gov/)
3. &#x20;[http://hl7.org/fhir/uv/ips/ValueSet-allergy-intolerance-substance-condition-gps-uv-ips.html](http://hl7.org/fhir/uv/ips/ValueSet-allergy-intolerance-substance-condition-gps-uv-ips.html)
4. &#x20;[http://hl7.org/fhir/uv/ips/ValueSet-allergy-reaction-gps-uv-ips.html](http://hl7.org/fhir/uv/ips/ValueSet-allergy-reaction-gps-uv-ips.html)
5. &#x20;[http://art-decor.org/decor/services/RetrieveValueSet?id=2.16.840.1.113883.11.22.10\&effectiveDate=2017-03-29T00:00:00\&prefix=hl7ips-\&format=html\&collapsable=true\&language=en-US\&ui=en-US](http://art-decor.org/decor/services/RetrieveValueSet?id=2.16.840.1.113883.11.22.10\&effectiveDate=2017-03-29T00:00:00\&prefix=hl7ips-\&format=html\&collapsable=true\&language=en-US\&ui=en-US)
6. [https://art-decor.ehdsi.eu/html/publication/epSOS/epsos-html-20201215T191920/voc-1.3.6.1.4.1.12559.11.10.1.3.1.42.19-2020-04-23T160000.html](https://art-decor.ehdsi.eu/html/publication/epSOS/epsos-html-20201215T191920/voc-1.3.6.1.4.1.12559.11.10.1.3.1.42.19-2020-04-23T160000.html)
7. [https://art-decor.ehdsi.eu/html/publication/epSOS/epsos-html-20201215T191920/voc-1.3.6.1.4.1.12559.11.10.1.3.1.42.18-2020-04-22T093000.html](https://art-decor.ehdsi.eu/html/publication/epSOS/epsos-html-20201215T191920/voc-1.3.6.1.4.1.12559.11.10.1.3.1.42.18-2020-04-22T093000.html)
8. &#x20;[https://confluence.ihtsdotools.org/display/FHIR/Free+SNOMED+CT+set+for+FHIR](https://confluence.ihtsdotools.org/display/FHIR/Free+SNOMED+CT+set+for+FHIR)
